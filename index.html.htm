<!DOCTYPE html>
<html lang="eng">
<head>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#6610f2">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Kas Event App">

<meta charset="UTF-8">
<title>Data member & Finance </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f4f6f8;color:#333}
header{background:linear-gradient(135deg,#007bff,#6610f2);color:#fff;padding:70px 20px;text-align:center}
section{max-width:680px;margin:auto;background:#fff;padding:20px;margin-top:-40px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1)}
button,input,select,textarea{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ccc}
button{border:none;font-weight:bold;cursor:pointer}
.btn-primary{background:#007bff;color:#fff}
.btn-success{background:#28a745;color:#fff}
.btn-purple{background:#6f42c1;color:#fff}
.btn-danger{background:#dc3545;color:#fff}

.summary{display:flex;justify-content:space-between;margin:15px 0;font-size:13px}
.summary div{background:#f1f1f1;padding:10px;border-radius:6px;width:32%;text-align:center}

table{width:100%;border-collapse:collapse;margin-top:10px;font-size:13px}
th,td{border-bottom:1px solid #ddd;padding:8px;text-align:left}
th{background:#f9f9f9}
.masuk{color:green;font-weight:bold}
.keluar{color:red;font-weight:bold}

footer{text-align:center;padding:20px;font-size:13px;color:#777}

/* FLOATING GEAR */
.floating-toggle{
  position:fixed;
  right:20px;
  bottom:20px;
  width:44px;
  height:44px;
  border-radius:50%;
  background:#343a40;
  color:#fff;
  font-size:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:1000;
  box-shadow:0 4px 12px rgba(0,0,0,.3)
}
.floating-toggle:hover{background:#000}

/* FLOATING RESET */
.floating-reset{
  position:fixed;
  left:20px;
  bottom:20px;
  width:44px;
  height:44px;
  border-radius:50%;
  background:#dc3545;
  color:#fff;
  font-size:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:1000;
  box-shadow:0 4px 12px rgba(0,0,0,.3)
}
.floating-reset:hover{background:#b02a37}

/* MODAL */
.modal{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999
}
.modal-box{
  background:#fff;
  padding:25px;
  border-radius:12px;
  max-width:420px;
  width:90%;
  text-align:center
}
.modal-box h3{color:#dc3545;margin-top:0}
</style>
</head>
<body>

<header>
  <h1>Event & Manajemen</h1>
  <p>Keluar masuk dana & pendaftaran peserta</p>
</header>

<section>

<!-- EDIT PESAN (HIDDEN) -->
<div id="editPesan" style="display:none;margin-bottom:15px">
  <h4>‚ö†Ô∏è Edit Pesan Peringatan</h4>
  <textarea id="pesanInput" rows="4"></textarea>
  <button class="btn-success" onclick="simpanPesan()">Simpan Pesan</button>
  <hr>
</div>

<button class="btn-purple" onclick="toggleForm()">üìã Form Pendaftaran</button>

<div id="formPendaftaran" style="display:none;margin-top:15px">
  <input id="namaLengkap" placeholder="Nama Lengkap">
  <input id="alamat" placeholder="Alamat">
  <input id="pekerjaan" placeholder="Pekerjaan">
  <input id="telpon" placeholder="Nomor Telpon">
  <input id="namaRekening" placeholder="Nama Pemilik Rekening">
  <input id="namaBank" placeholder="Nama Bank">
  <input id="noRekening" placeholder="Nomor Rekening">
  <button class="btn-success" onclick="simpanPendaftaran()">Simpan Pendaftaran</button>
</div>

<hr>

<h3>Finance</h3>
<input id="keterangan" placeholder="Keterangan">
<input id="nominal" placeholder="Nominal">
<select id="jenis">
  <option value="masuk">Uang Masuk</option>
  <option value="keluar">Penarikan</option>
</select>
<button class="btn-primary" onclick="tambah()">Tambah Transaksi</button>

<div class="summary">
  <div>Masuk<br>Rp <span id="totalMasuk">0</span></div>
  <div>Keluar<br>Rp <span id="totalKeluar">0</span></div>
  <div>Saldo<br>Rp <span id="saldo">0</span></div>
</div>

<table>
<thead>
<tr><th>Kategori</th><th>Nominal</th><th>Keterangan</th></tr>
</thead>
<tbody id="list"></tbody>
</table>

</section>

<footer>¬© 2026 ‚Ä¢ Alpha digital Finance</footer>

<!-- FLOATING ICONS -->
<div class="floating-reset" onclick="resetData()">üóëÔ∏è</div>
<div class="floating-toggle" onclick="togglePesan()">‚öôÔ∏è</div>

<!-- MODAL -->
<div class="modal" id="modalPeringatan">
  <div class="modal-box">
    <h3>‚ö†Ô∏è Peringatan</h3>
    <p id="infoRekening"></p>
    <p id="pesanModal"></p>
    <button class="btn-danger" onclick="tutupModal()">Tutup</button>
  </div>
</div>

<script>
let data = JSON.parse(localStorage.getItem("dataKas")) || [];
let pesanDefault =
"DANA ANDA BELUM BISA DI PROSES UNTUK PENCAIRAN KARENA TUGAS ANDA BELUM SELESAI";
let pesanVisible=false;

const formatRupiah=n=>n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");

nominal.addEventListener("input",()=>{
  nominal.value=formatRupiah(nominal.value.replace(/\D/g,""));
});

function togglePesan(){
  pesanVisible=!pesanVisible;
  editPesan.style.display=pesanVisible?"block":"none";
}

function toggleForm(){
  formPendaftaran.style.display =
    formPendaftaran.style.display==="none"?"block":"none";
}

function simpanPesan(){
  localStorage.setItem("pesanPeringatan", pesanInput.value);
  alert("Pesan peringatan disimpan");
}

function simpanPendaftaran(){
  localStorage.setItem("dataPendaftaran", JSON.stringify({
    namaRekening:namaRekening.value,
    noRekening:noRekening.value
  }));
  alert("Pendaftaran disimpan");
  formPendaftaran.style.display="none";
}

function tambah(){
  let nom=parseInt(nominal.value.replace(/\./g,""));
  if(jenis.value==="keluar" && nom>500000){
    tampilModal();
    return;
  }
  data.push({ket:keterangan.value,nom,jenis:jenis.value});
  localStorage.setItem("dataKas",JSON.stringify(data));
  keterangan.value="";nominal.value="";
  render();
}

function tampilModal(){
  let daftar=JSON.parse(localStorage.getItem("dataPendaftaran"));
  infoRekening.innerHTML=daftar?
    `<b>Nama:</b> ${daftar.namaRekening}<br><b>No Rek:</b> ${daftar.noRekening}`:
    "Data rekening belum terdaftar";
  pesanModal.innerText=
    localStorage.getItem("pesanPeringatan")||pesanDefault;
  modalPeringatan.style.display="flex";
}

function tutupModal(){modalPeringatan.style.display="none";}

function render(){
  let m=0,k=0;
  list.innerHTML="";
  data.forEach(d=>{
    d.jenis==="masuk"?m+=d.nom:k+=d.nom;
    list.innerHTML+=`
      <tr>
        <td>${d.ket}</td>
        <td>Rp ${formatRupiah(d.nom)}</td>
        <td class="${d.jenis}">${d.jenis}</td>
      </tr>`;
  });
  totalMasuk.innerText=formatRupiah(m);
  totalKeluar.innerText=formatRupiah(k);
  saldo.innerText=formatRupiah(m-k);
}

function resetData(){
  if(confirm("Hapus semua data?")){
    localStorage.clear();
    data=[];
    render();
  }
}

pesanInput.value =
  localStorage.getItem("pesanPeringatan")||pesanDefault;

render();
</script>
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("sw.js");
  });
}
</script>

</body>
</html>




